name: E2E For SFRA

on:
  pull_request:

permissions:
  contents: read

jobs:
  e2e-sfra5:
    uses: ./.github/workflows/E2E_template.yml
    with:
      sfra-version: 'v5.3.0'
      node-version: '14'
      sfcc-hostname: ${{ secrets.SFCC_HOSTNAME_SFRA5 }}
      code-version: ${{ secrets.SFCC_CODE_VERSION_SFRA5 }}
      storefront-url: ${{ secrets.SFCC_STOREFRONT_URL_SFRA5 }}
      is-main-branch: ${{ github.event.pull_request.base.ref == 'main' }}
    secrets: inherit

  e2e-sfra6:
    uses: ./.github/workflows/E2E_template.yml
    with:
      sfra-version: 'v6.1.0'
      node-version: '14'
      sfcc-hostname: ${{ secrets.SFCC_HOSTNAME_SFRA6 }}
      code-version: ${{ secrets.SFCC_CODE_VERSION_SFRA6 }}
      storefront-url: ${{ secrets.SFCC_STOREFRONT_URL_SFRA6 }}
      is-main-branch: ${{ github.event.pull_request.base.ref == 'main' }}
    secrets: inherit

  e2e-sfra7:
    uses: ./.github/workflows/E2E_template.yml
    with:
      sfra-version: 'v7.0.0'
      node-version: '18'
      sfcc-hostname: ${{ secrets.SFCC_HOSTNAME_SFRA7 }}
      code-version: ${{ secrets.SFCC_CODE_VERSION_SFRA7 }}
      storefront-url: ${{ secrets.SFCC_STOREFRONT_URL_SFRA7 }}
      is-main-branch: ${{ github.event.pull_request.base.ref == 'main' }}
    secrets: inherit